<template name='properties'>
  <div class="property-panel-two">
    <div id="append-map-here" class="container">
      <div class="three-rem-spacer"></div>
      <h2 style="text-align:center;">Your Properties</h2>
      <div id="append-map-here">
        <div id="property-map"></div>
      </div>
    </div>
  </div>
  <div class="red-break"></div>
  <div class="properties-background">
    <div class="five-rem-spacer"></div>
    {{> propertyPanel2}}
    <div class="two-rem-spacer"></div>
    {{#if currentUser}}
    <button id="add-property-button" class="btn">Add Property</button>
    {{else}}
    <h2>Please Log In or Sign Up</h2>
    {{/if}}
    <div class="two-rem-spacer"></div>
  </div>
  <div class="red-break"></div>
  <div class="flex-white-div-property">  <!-- add-property-show add-property-hidden -->
    <div class="container">
      {{> newPropertyForm}}
    </div>
  </div>
  <div class="two-rem-spacer"></div>
  <div class="red-break-property"></div>  <!--  add-property-hidden -->
  <div class="flex-white-div">
    <div class="container">
      <div class="row">
        <div class="col l12 m12 s12">
          <div class="two-rem-spacer"></div>
          <h3 style="text-align:center;">Additional Information</h3>
          <div class="five-rem-spacer"></div>
          <div class="five-rem-spacer"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="red-break"></div>
</template>


<template name='propertyPanel2'>
  <div class="container">
    <div class="row">
      {{#each properties}}
      <div class="col s12 m6 l6">
        <div class="card property-card">
          <div class="card-content">
            <h2><a href="{{pathFor 'singleProperty'}}" style="text-decoration:none;">{{address}}</a></h2>
            <div style="height: 0.5rem"></div>
            <h3 class="properties">{{state}}</h3>
          </div>
          <div class="row">
            <a class="col m6 l6" href="#">This is a link</a>
            <a class="col m6 l6" href='#'>This is a link</a>
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
</template>

<!-- Would be nice if this added a toast on successful addition!!! -->

<template name='newPropertyForm'>
  <div class="two-rem-spacer"></div>
  <h4>New Property</h4>
  <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s10 m5">
          <select class="disabled add-property-state-dropdown">
            <option value="" disabled selected>Add Owners</option>
            {{> usersDropdownList}}
          </select>
          {{#each owners}}
          <div class="row owners-list">
            <div class="col s2 m2">
              <p style="text-align:right;"><i class="fa fa-times"></i></p>
            </div>
            <div class="col s10 m10">
              <p>{{name}} : {{_id}}</p>
            </div>
          </div>
          {{/each}}
        </div>
        <div class="col s2 m1">
          <button type="button" class="btn" style="padding:1.5rem 1rem;font-size:2em;margin:auto;line-height:0;">+</button>
        </div>
        <div class="input-field col s12 m6">
          <input id="zpid" type="text" placeholder="ZPID" required>
        </div>
      </div>
      <button id="submit-new-property" class="btn">Add to Database</button>
    </form>
  </div>
</template>

<template name="usersDropdownList">
  {{#each users}}
    <option value="{{_id}}">Name: {{profile.name}}, ID: {{_id}}</option>
  {{/each}}
</template>
